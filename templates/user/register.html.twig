{% extends 'base.html.twig' %}

{% block title %}{{'Sign in'|trans}}{% endblock %}

{% block body %}
    <div class = "container my-4 login">
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
        <h1 class="mb-4">{{'Edit user profile'|trans}}</h1>
    {% else %}
        <h1 class = "mb-4">{{'Sign in'|trans}}</h1>
    {% endif %}

        {{ form_start(registrationForm) }}
            {{ form_row(registrationForm.username, {
                label: 'Username'
            }) }}
            {{ form_row(registrationForm.email, {
                label: 'Email'
            }) }}
            {{ form_row(registrationForm.plainPassword, {
                label: 'Password'
            }) }}
            {{ form_row(registrationForm.agreeTerms) }}

        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
            <a href = "{{path ('profile')}}" class="btn btn-danger">{{'Back'|trans}}</a>
            <button type="submit" class="btn btn-dark">{{'Save Changes'|trans}}</button>
        {% else %}
            <a href = "{{path ('main')}}" class="btn btn-danger">{{'Back home'|trans}}</a>
            <button type="submit" class="btn btn-dark">{{'Sign in'|trans}}</button>
        {% endif %}
            
        {{ form_end(registrationForm) }}
    </div>
{% endblock %}
